众所周知

Linux操作系统貌似必不可少的两个分区就是 / 和 swap 分区!

其实则不然，请听我慢慢道来 

这里就会遇见一个问题

###### 什么是swap分区？

虚拟内存，交换空间，一般为物理内存的2倍或者4倍。这是对他的定义，说到这就不得不说一下的作用，什么时候会用到swap?

一般有如下两种情况

1.一些程序在初始化的时候会把不常用的内存页放到swap当中去，这也就是你或许会看到明明内存充足，swap依然被占用的情况。

2.当物理内存不足时，会释放一些长时间没有有程序调用的内存空间到swap，以留下空间方便当前程序的运行。这也就解释了为什么swap分区里面常常跑着的是一些守护进程的原因。有意思的问题来了，操作系统以什么判定物理内存不足了呢。如何设置呢？

```shell
cat /proc/sys/vm/swappiness
#这个里面的值越小说明操作系统越优先使用swap centos7.6.18.0默认的值为30
#当然这个值肯定由他一套换算机制，按照百分比之类的东西来决定是否启用swap
#这个值是可以设置的哦
```

既然说不然了，为什么要分swap这个分区呢？ 分他没意义么，当然有意义。

这里会涉及到另外一个问题。

没有swap分区就没有swap么？

不会，镜像文件逻辑卷，都可以作为swap分区，只要里面写的是稀疏文件，分区被格式化成swap就可以了。

那我们为什么还要分swap分区呢？

其实也很简单，swap 是交换空间，使用频繁时会涉及到大量的I/O，而分区之后磁头的移动距离缩短，即搜索范围变小，如果不分区，磁头可能会搜索整块磁盘。从另外一方面考虑就是为了系统安全，比秒swap分区影响其他文件。好处是大大的有啊。

但是！swap 分区并非Linux系统必不可少的分区，必不可少的是 / 整个文件系统的入口，其他的 洒洒水了。

还但是！由于一些程序即使内存足够的情况下，在初始化的时候依然会把一些不常用的内存页放到swap中去，如果检测没有swap程序执行可能失败。

还是有的好！

完！